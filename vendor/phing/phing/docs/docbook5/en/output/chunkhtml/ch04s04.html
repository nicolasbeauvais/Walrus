<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>4.4 Relax NG Grammar</title><link rel="stylesheet" type="text/css" href="book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Phing User Guide"><link rel="up" href="ch04.html" title="Chapter 4 Getting started"><link rel="prev" href="ch04s03.html" title="4.3 More Complex Buildfile"><link rel="next" href="ch05.html" title="Chapter 5 Project components"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.4  Relax NG Grammar </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><th width="60%" align="center">Chapter 4 Getting started</th><td width="20%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm3809808"></a>4.4  Relax NG Grammar </h2></div></div></div>
        
        <p>With a little bit of experience it is not that difficult to write and understand Phing
            build files since the XML format in itself tends to be quite verbose. However, it can
            become a bit tedious and the large (and growing) amount of built-in tasks and filters
            can sometimes make it difficult to remember the exact syntax of all the available
            features.</p>
        <p>To help with this the Phing distribution contains a Relax NG Grammar (<span class="bold"><strong>RE</strong></span>gular <span class="bold"><strong>LA</strong></span>nguage for
                <span class="bold"><strong>X</strong></span>ML <span class="bold"><strong>N</strong></span>ext <span class="bold"><strong>G</strong></span>eneration, <a class="ulink" href="http://www.relaxng.org/" target="_top">http://www.relaxng.org/</a>) file that describes the (formal) syntax of the
            build files. This grammar can be used to validate build files. However, the most
            beneficial use of the grammar is together with a schema aware XML editor. Such an editor
            can make auto-completion based on the grammar. This feature makes writing complex build
            files significantly easier since it is usually enough to enter the first letter of an
            element to have the rest of the element written automatically as well as any compulsory
            attributes.</p>
        <p>Most XML editors can be told to what schema (or model) to use for validation and
            auto-completion by adding a specification in the beginning of the XML file. For example,
            the following two lines in the beginning of an XML file would do (of course the exact
            path to the grammar will depend on your system setup) </p>
        <pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;?xml-model xlink:href="/usr/share/php5/PEAR/data/phing/etc/phing-grammar.rng" 
            type="application/xml" 
            schematypens="http://relaxng.org/ns/structure/1.0" ?&gt;</pre>
        <p>Using auto-completion will make it substantially easier to edit large build files.
            Please note that since the phing-grammar does not have an official designation we must
            use the absolute filename to specify the grammar (instead of a canonical URI that is
            resolved by the systems XML-catalogue).</p>
        <p>This grammar is available (as a plain text file) in the distribution at:
                <code class="filename">/etc/phing-grammar.rng</code>
        </p>
        <p>Since we do not want to neither endorse nor forget any particular XML editor with this
            capability we do not make available such a list of editors. Instead, spending a few
            minutes with Google searching for XML-editors is bound to find a number of editors with
            this capability.</p>
        <p>If you wish to validate your Phing build file, there are numerous options. Links to
            various validation tools and XML editors are available at the RELAX NG home page, <a class="ulink" href="http://www.relaxng.org/" target="_top">http://www.relaxng.org/</a>. The command
            line tool <code class="literal">xmllint</code> that comes with libxml2 is also able to validate a
            given XML file against the supplied grammar.</p>
        <p>For example, to use <span class="command"><strong>xmllint</strong></span> to validate a Phing build file the
            following command line could be used:</p>
        <pre class="screen">$ xmllint -noout -relaxng phing-grammar.rng build.xml
build.xml validates</pre>
    </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.3  More Complex Buildfile  </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 5 Project components</td></tr></table></div></body></html>
